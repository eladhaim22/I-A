<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="partial/head.html"/>
<body>
<div class="banner-top container-fluid" id="home">
    <header th:replace="partial/header.html"/>
    <div class="banner_inner">
        <div class="services-breadcrumb">
            <div class="inner_breadcrumb">

                <ul class="short">
                    <li>
                        <a href="index.html">Admin</a>
                        <i>|</i>
                    </li>
                    <li>Usuarios</li>
                </ul>
            </div>
        </div>

    </div>
</div>
<!--// header_top -->
<!-- top Products -->
<section class="banner-bottom-wthreelayouts py-lg-5 py-3">
    <div class="container">
        <div class="inner-sec-shop px-lg-4 px-3">
            <div class="row">
                <div class="col-md-8">
                <h3 class="tittle-w3layouts my-lg-4 mt-3">Usuarios </h3>
                </div>
                <div class="col-md-4">
                    <div class="checkout-right-basket">
                        <a href="/admin/user">Nuevo usuario </a>
                    </div>
                </div>
            </div>
            <div class="checkout-right">
                <table class="timetable_sub">
                    <thead>
                    <tr>
                        <th>#</th>
                        <th>Nombre</th>
                        <th>Apellido</th>
                        <th>Email</th>
                        <th>Activo</th>
                        <th style="width:25%">Roles</th>
                        <th>Acciones</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="user : ${users}" th:id="${user.id}">
                        <td class="invert" th:text="${user.id}"/>
                        <td class="invert" th:text="${user.name}"/>
                        <td class="invert" th:text="${user.lastName}"/>
                        <td class="invert" th:text="${user.email}"/>
                        <td class="invert">
                            <input th:id="'checkbox-' + ${user.id}" type="checkbox" class="checkbox" th:checked="${user.active}">
                        </td>
                        <td class="invert">
                            <select class="selectpicker" th:id="'select-' + ${user.id}" multiple data-live-search="true">
                                <option th:id="${user.id} + '-' + ${role.id}" th:each="role : ${roles}" th:value="${role.id}" th:text="${role.role}" th:selected="${user.getRoles().contains(role.id)}"/>
                            </select>
                        </td>
                        <td>
                            <div class="checkout-right-basket" style="float:none">
                                <a th:href="'/admin/user/' + ${user.id}">Modificar</a>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </div>
</section>

<!--footer -->
<footer th:replace="partial/footer.html"/>
<script th:inline="javascript">
    /*<![CDATA[*/
    users = /*[[${users}]]*/ 'default';
    /*]]>*/
</script>
<scripts th:replace="partial/scripts.html"/>
<script src="/js/user-list.js"></script>
</body>
</html>